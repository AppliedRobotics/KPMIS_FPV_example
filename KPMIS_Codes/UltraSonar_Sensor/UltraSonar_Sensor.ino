// Пины для ультразвукового датчика
const int trigPin = 12; // Trigger
const int echoPin = 13; // Echo

void setup() {
  Serial.begin(9600); // Инициализация последовательного порта
  pinMode(trigPin, OUTPUT); // Установка пина триггера как выход
  pinMode(echoPin, INPUT); // Установка пина эхо как вход
}

void loop() {
  long duration; // Переменная для хранения времени отклика
  int distance;  // Переменная для хранения рассчитанного расстояния

  // Посылаем короткий импульс на триггер
  digitalWrite(trigPin, LOW); // Устанавливаем триггер в низкое состояние
  delayMicroseconds(2); // Задержка для стабильности сигнала
  
  digitalWrite(trigPin, HIGH); // Устанавливаем триггер в высокое состояние
  delayMicroseconds(10); // Длительность импульса
  digitalWrite(trigPin, LOW); // Возвращаем триггер в низкое состояние

  // Измеряем время отклика эхо-сигнала
  duration = pulseIn(echoPin, HIGH); // Получаем время, в течение которого сигнал был высок

  // Расчет расстояния в сантиметрах
  distance = duration * 0.034 / 2; // Формула для расчета расстояния

  // Выводим результат в последовательный монитор
  Serial.print("Расстояние: ");
  Serial.print(distance); // Вывод расстояния
  Serial.println(" см"); // Единицы измерения

  delay(500); // Задержка между измерениями
}
