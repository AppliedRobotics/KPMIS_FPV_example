/*
 * Методическое пособие: Управление сервомоторами с помощью Arduino
 * Данный код демонстрирует базовое управление двумя сервомоторами
 */

#include <Servo.h>  // Подключаем библиотеку для работы с сервомоторами

// Создаем объекты для двух сервомоторов
// Каждый объект представляет собой отдельный сервомотор и управляется независимо
Servo servo1;
Servo servo2;

// Пины подключения сервомоторов к Arduino
// const - означает, что переменная постоянная и не будет меняться
// int - целочисленный тип данных
const int servoPin1 = 9;   // Сервомотор 1 подключен к цифровому пину 9
const int servoPin2 = 10;  // Сервомотор 2 подключен к цифровому пину 10

// Функция setup() выполняется один раз при запуске Arduino
void setup() {
  // Подключаем сервомоторы к соответствующим пинам
  // Метод attach() связывает объект сервомотора с физическим пином
  servo1.attach(servoPin1);
  servo2.attach(servoPin2);
  
  // Примечание: сервомоторы обычно требуют питание 5V и землю (GND)
  // Управляющий сигнал подается через указанные цифровые пины
}

// Функция loop() выполняется бесконечно после setup()
void loop() {
  // Пример: вращение сервомоторов от 0 до 180 градусов и обратно
  
  // Первый цикл: плавное вращение от 0 до 180 градусов
  // for - цикл с счетчиком, где angle изменяется от 0 до 180 с шагом 1
  for (int angle = 0; angle <= 180; angle += 1) {
    // Устанавливаем угол поворота для каждого сервомотора
    // write() принимает значение угла от 0 до 180 градусов
    servo1.write(angle);  // Сервомотор 1 поворачивается на угол angle
    servo2.write(angle);  // Сервомотор 2 поворачивается на угол angle
    
    delay(15); // Задержка 15 миллисекунд для плавного движения
    // Без задержки сервомоторы будут двигаться слишком быстро
  }

  // Второй цикл: плавное вращение обратно от 180 до 0 градусов
  for (int angle = 180; angle >= 0; angle -= 1) {
    servo1.write(angle);
    servo2.write(angle);
    delay(15); // Задержка для плавного обратного движения
  }
  
  // После завершения циклов функция loop() начнется снова,
  // создавая непрерывное колебательное движение сервомоторов
}
